<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title> The Dialed In Watchmaker </title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <!-- Our CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="css/footer.css">

    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

<body>

    <nav class="navbar navbar-expand-lg fixed-top navbar-light shadow-sm">

        <button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler">
            <span class="navbar-toggler-icon"></span>
        </button> <!-- Navbar Toggler Mobile -->

        <a class="navbar-brand" href="#">
            <img src="assets/clock_white.png" width="50" height="50">
        </a> <!-- Navbar Brand -->

        <div class="collapse navbar-collapse justify-content-end" id="navbarToggler">
            <ul class="navbar-nav ">
                <li class="nav-item active"><a class="nav-link nav-active" href="#hero"> Home </a></li>
                <li class="nav-item"><a class="nav-link" href="#video"> About </a></li>
                <li class="nav-item"><a class="nav-link" href="#how_it_works"> How It Works </a></li>
                <li class="nav-item"><a class="nav-link" href="#contact"> Contact Me </a></li>
                <li class="nav-item"><a class="nav-link" href="learn_more.html"> Learn More </a></li>
                <li class="nav-item"><a class="nav-link" href="#"> Shop </a></li>
            </ul>
        </div> <!-- Navbar Nav -->

    </nav> <!-- Navigation -->

    <div id="hero" class="container">
        <div class="row">

            <div class="col-sm-6">
                <img id="hero_img" src="assets/clock_white.png">
            </div> <!-- Hero Clock -->

            <div class="col-sm-6 align-self-center">
                <h1> The<br>Dialed In<br>Watchmaker </h1>
                <p>
                    Vancouver’s very own “Virtual Watchmaker”.
                    Thank you for stopping by!
                    This website is here to provide an interactive space that people can reach out to me and talk openly
                    about their watches and specific repair needs. I aim to drop the mystery around watchmaking and show you
                    the magic that is horology.
                </p>
                <p>WELCOME!<br>Click on the video below and see how it works.</p>
                <img id="hero_arrow" src="assets/arrow.png">
            </div> <!-- Hero Text -->

        </div> <!-- Row -->
    </div> <!-- Hero -->

    <div class="spacebar"></div>

    <div id="video" class="container">
        <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/K6l4xdGAY9w" allowfullscreen></iframe>
        </div>
    </div> <!-- Video -->

    <div class="spacebar"></div>

    <div id="how_it_works" class="container">
        <div class="row">

            <div class="col-sm-6 align-self-center">
                <img class="image" src="assets/watch-components.jpg">
            </div> <!-- Hero Clock -->

            <div class="col-sm-6 align-self-center">
                <h2> 1. Book an appointment </h2>
                <p>
                    Click on the Contact page, press “Check my availability” and select a time that works for both of us. Or
                    send me a message with details describing the issues you’re having with your watch.
                </p>
                <br>
                <h2> 2. Virtual appointment </h2>
                <p>
                    At the time of the appointment, I’ll email you the invitation for the Google Meet link. From there, we
                    can discuss the issues you may be having with your watch. Easy right?
                </p>
                <br>
                <h2> 3. Send me your watch: </h2>
                <p>
                    If we decide that your watch needs a comprehensive estimate, we can then arrange a pick up or a time to
                    meet so that I may have a closer look.
                </p>
                <br>
                <h2> 4. Estimate: </h2>
                <p>
                    Once I’ve completed the estimate, I will send you a detailed work order with all necessary repairs as
                    well as a timeline for completion..
                </p>
                <br>
                <h2> 5. Go Ahead: </h2>
                <p>
                    As soon as you give the go ahead, I will start the repair process. I’ll send you updates on the progress
                    until the job is completed.
                </p>
                <br>
                <h2> 6. Finished: </h2>
                <p>
                    Your watch is now ready to face the world again. I’ll contact you with the good news and once I’ve
                    received payment, we can then arrange the process for returning the watch to you.
                    All my full service repairs come with a 1 year service warranty.
                </p>
            </div> <!-- Hero Text -->

        </div> <!-- Row -->
    </div> <!-- How It Works -->

    <div class="spacebar"></div>



    <div class="spacebar"></div>

    <div id="contact" class="container">
        <div class="row">
            <div class="col-sm-6">
                <h2>Latest Updates</h2>
                <br>
                <div class="twitter-component" id="latest-tweet-1">No more tweets available</div>
                <div class="twitter-component" id="latest-tweet-2">No more tweets available</div>
                <div class="twitter-component" id="latest-tweet-3">No more tweets available</div>

<!--                            <form id="tweet-form">-->
<!--                                <button type="submit" class="btn btn-action" id="btn-tweets">Update Tweet</button>-->
<!--                                <label for="response-tweets"></label>-->
<!--                                <input type="hidden" id="response-tweets" name="response-tweets" readonly>-->
<!--                                &lt;!&ndash;                <input type="hidden" id="test-tweets" name="test-tweets" readonly>&ndash;&gt;-->
<!--                            </form>-->
            </div> <!-- Latest Updates -->
            <div class="spacebar"></div>
            <div class="col-sm-6">
                <h2>Send a Message!</h2>
                <br>
                <form id="contact-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea class="form-control" id="message" name="message" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-action" id="btn-contact">Submit</button>
                    <label for="response-contact"></label>
                    <input type="hidden" id="response-contact" name="response-contact" readonly>
                </form>
            </div> <!-- Email form -->
        </div>
    </div> <!-- Contact -->

    <div class="spacebar"></div>

    <div id="calendly" class="container">
        <div class="row">
            <div class="col">
                <h2> Book an Appointment! </h2>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <!-- Calendly link widget begin -->
                <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
                <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript"></script>
                <button class="btn btn-action" onclick="Calendly.initPopupWidget({url: 'https://calendly.com/chestercervantes/watchmaker-1-hour-session'});return false;">Schedule time with me</button>
                <!-- Calendly link widget end -->
            </div>
        </div>
    </div>

    <div class="spacebar"></div>

    <div id="subscription" class="container h-100">
        <div class="row align-items-center h-100">
            <div class="col-8 mx-auto">
<!--                <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">-->
                <!--<style type="text/css">
                        #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
                    Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
                        We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. 
                    </style> -->
                <div id="mc_embed_signup">
                    <form action="https://gmail.us2.list-manage.com/subscribe/post?u=28eaead70afd479bbb401771e&amp;id=f6a6f17b24" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                        <div id="mc_embed_signup_scroll">
                            <h2>Subscribe to our Mailing List</h2>
                            <div class="form-group">
                                <label for="mce-EMAIL">Email Address</label>
                                <input type="email" value="" name="EMAIL" class="required email form-control" id="mce-EMAIL">
                            </div>
                            <div id="mce-responses" class="clear">
                                <div class="response" id="mce-error-response" style="display:none"></div>
                                <div class="response" id="mce-success-response" style="display:none"></div>
                            </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                                <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_28eaead70afd479bbb401771e_f6a6f17b24" tabindex="-1" value=""></div>
                                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button btn btn-action"></div>
                        </div>
                    </form>
                </div>
            <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='ADDRESS';ftypes[3]='address';fnames[4]='PHONE';ftypes[4]='phone';fnames[5]='BIRTHDAY';ftypes[5]='birthday';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
            <!--End mc_embed_signup-->
            </div>
        </div>
    </div>


    <div class="spacebar"></div>

    <div id="instagram" class="container h-100">
        <div id="instafeed"></div>

        <script type="text/javascript">
            var feed = new Instafeed({
                accessToken: process.env.INSTAGRAM_TOKEN
            });
            feed.run();
        </script>
    </div>
    <footer id="footer" class="footer">
        <div class="container d-flex justify-content-center">
            <a href="#"><img class="footer-sm" src="assets/socialMedia/facebook.png"></a>
            <a href="#"><img class="footer-sm" src="assets/socialMedia/instagram.png"></a>
            <a href="#"><img class="footer-sm" src="assets/socialMedia/twitter.png"></a>
            <a href="#"><img class="footer-sm" src="assets/socialMedia/youtube.png"></a>
        </div>
    </footer>
    <!-- Footer -->

    <!-- Bootstrap Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Contact and Updates Scripts -->
    <script>
        $(document).ready(function () {
            $("#contact-form").submit(function (event) {
                event.preventDefault();
                var name1 = $('#name').val();
                var email1 = $('#email').val();
                var message1 = $('#message').val();

                console.log('test')
                console.log(email1)
                $.ajax({
                    method: 'post',
                    url: 'send',
                    data: JSON.stringify({name: name1, email: email1, message: message1}),
                    contentType: 'application/json',
                    success: function (data) {
                        $('#response-contact').attr('type', 'image');
                        $('#response-contact').attr('src', data.icon);
                    }
                });
            });
        });

        $(document).ready(function () {
            $("#tweet-form").submit(function (event) {
                event.preventDefault();

                getTweets();

            });
        });

        function getTweets() {
            $.ajax({
                method: 'get',
                url: 'getTweets',
                contentType: 'application/json',
                success: function (data) {
                    $('#latest-tweet-1').html('<blockquote class="twitter-tweet"><a id="latest-tweet-a-1" \n' +
                        'href=""</a>\n' +
                        '</blockquote>');
                    let href_link_1 = 'https://twitter.com/chestCervant/status/' + data.latest_updates_ids[0];
                    $('#latest-tweet-a-1').attr('href', href_link_1);

                    $('#latest-tweet-2').html('<blockquote class="twitter-tweet"><a id="latest-tweet-a-2" \n' +
                        'href=""</a>\n' +
                        '</blockquote>');
                    let href_link_2 = 'https://twitter.com/chestCervant/status/' + data.latest_updates_ids[1];
                    $('#latest-tweet-a-2').attr('href', href_link_2);

                    $('#latest-tweet-3').html('<blockquote class="twitter-tweet"><a id="latest-tweet-a-3" \n' +
                        'href=""</a>\n' +
                        '</blockquote>');
                    let href_link_3 = 'https://twitter.com/chestCervant/status/' + data.latest_updates_ids[2];
                    $('#latest-tweet-a-3').attr('href', href_link_3);

                    twttr.widgets.load();
                },
                error: function () {

                }

            });
        }

        getTweets();
    </script>

</body>
</html>
